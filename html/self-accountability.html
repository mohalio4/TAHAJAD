<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุญุงุณุจุฉ ุงูููุณ - ุชูุฌูุฏ</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../assets/images/logo1.png">
    
    <!-- Link CSS Files -->
    <link rel="stylesheet" href="../css/root-variables.css">
    <link rel="stylesheet" href="../css/global-styles.css">
    <link rel="stylesheet" href="../css/khirah.css">
    <link rel="stylesheet" href="../css/animations.css">
    
    <!-- Google Fonts - Arabic Support -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body class="emerald-theme khirah-page">
    
    <!-- Animated Background Particles -->
    <div class="particles-container" id="particles"></div>
    
    <!-- Navigation Bar -->
    <nav class="glass-nav">
        <div class="nav-container">
            <div class="logo"><a href="index.html"><img src="../assets/images/tahajad_logo.png" alt="ุชูุฌุฏ" class="logo-image"></a></div>
            <ul class="nav-links">
                <li><a href="dashboard_page.html">ููุญุฉ ุงูุชุญูู</a></li>
                <li><a href="prayer_times_page.html">ููุงููุช ุงูุตูุงุฉ</a></li>
                <li><a href="duas_page.html">ุงูุฃุฏุนูุฉ</a></li>
                <li><a href="challenges_page.html">ุงูุชุญุฏูุงุช</a></li>
                <li><a href="hijri-calendar.html">ุงูุชูููู ุงููุฌุฑู</a></li>
                <li><a href="self-accountability.html" class="active">ูุญุงุณุจุฉ ุงูููุณ</a></li>
                <li><a href="istikhara.html">ุงูุงุณุชุฎุงุฑุฉ</a></li>
                <li><a href="post_page.html">ุงูููุดูุฑุงุช</a></li>
                <li><a href="leaderthink.html">ููุฑ ุงููุงุฆุฏ</a></li>
                <li><a href="thaqalayn.html">ุงูุซูููู</a></li>
                <li><a href="quran.html">ุงููุฑุขู ุงููุฑูู</a></li>
                <li><a href="hyder-ai.html">ุงุณุฃู hyder.ai</a></li>
            </ul>
            
            <div class="nav-actions">
                <!-- Theme Switcher -->
                <div class="theme-switcher">
                    <button class="theme-btn" id="themeBtn">
                        <span class="theme-icon">๐จ</span>
                    </button>
                    <div class="theme-dropdown" id="themeDropdown">
                        <button class="theme-option" data-theme="emerald">
                            <span class="theme-color" style="background: linear-gradient(135deg, #0d4d3d, #d4af37)"></span>
                            <span>ุงูุฒูุฑุฏู</span>
                        </button>
                        <button class="theme-option" data-theme="gold">
                            <span class="theme-color" style="background: linear-gradient(135deg, #c9a961, #1a3a2e)"></span>
                            <span>ุงูุฐูุจู</span>
                        </button>
                        <button class="theme-option" data-theme="ruby">
                            <span class="theme-color" style="background: linear-gradient(135deg, #8b0000, #d4af37)"></span>
                            <span>ุงููุงููุชู</span>
                        </button>
                        <button class="theme-option" data-theme="night">
                            <span class="theme-color" style="background: linear-gradient(135deg, #1a1f2e, #2d5f5d)"></span>
                            <span>ุงููููู</span>
                        </button>
                    </div>
                </div>
                
                <!-- Not Logged In: Show Login/Register -->
                <div id="guestActions" style="display: none;">
                    <a href="login_page.html" class="btn-glass btn-login">ุชุณุฌูู ุงูุฏุฎูู</a>
                    <a href="register_page.html" class="btn-primary">ุฅูุดุงุก ุญุณุงุจ</a>
                </div>
                
                <!-- Logged In: Show User Profile -->
                <div class="user-profile-dropdown" id="userActions" style="display: none;">
                    <button class="user-profile-btn" id="userProfileBtn">
                        <div class="user-avatar">
                            <span id="userInitials">ู</span>
                        </div>
                        <span class="user-name" id="userName">ูุณุชุฎุฏู</span>
                        <span class="dropdown-arrow">โผ</span>
                    </button>
                    
                    <div class="user-dropdown" id="userDropdown">
                        <a href="dashboard_page.html" class="dropdown-item">
                            <span class="item-icon">๐</span>
                            <span>ููุญุฉ ุงูุชุญูู</span>
                        </a>
                        <a href="profile.html" class="dropdown-item">
                            <span class="item-icon">๐ค</span>
                            <span>ุงูููู ุงูุดุฎุตู</span>
                        </a>
                        <a href="settings.html" class="dropdown-item">
                            <span class="item-icon">โ๏ธ</span>
                            <span>ุงูุฅุนุฏุงุฏุงุช</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <button class="dropdown-item logout-btn" id="logoutBtn">
                            <span class="item-icon">๐ช</span>
                            <span>ุชุณุฌูู ุงูุฎุฑูุฌ</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" id="mobileMenuBtn">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main class="khirah-main">
        <div class="khirah-container">
            
            <!-- Page Header -->
            <section class="khirah-header fade-in-up">
                <div class="header-content glass-card">
                    <img src="../assets/images/self.jpg" alt="ูุญุงุณุจุฉ ุงูููุณ" class="header-background-image">
                    <div class="header-overlay"></div>
                    <div class="header-text-content">
                        <div class="header-text">
                        <h1 class="page-title">ูุญุงุณุจุฉ ุงูููุณ</h1>
                        <p class="page-subtitle">ุญุงุณุจ ููุณู ูุจู ุฃู ุชูุญุงุณุจ - ุฑุงูุจ ุฃุนูุงูู ุงูุตุงูุญุฉ ูุงูุณูุฆุฉ ูุทูุฑ ููุณู</p>
                        <p class="quran-verse">"ููุง ุฃููููููุง ุงูููุฐูููู ุขูููููุง ุงุชูููููุง ุงูููููู ููููุชููุธูุฑู ููููุณู ูููุง ููุฏููููุชู ููุบูุฏู" - ุงูุญุดุฑ:18</p>
                    </div>
                    
                    <div class="header-actions">
                        <button class="btn-add-good" onclick="openAddModal('good')">
                            <span class="btn-icon">โ</span>
                            <span>ุนูู ุตุงูุญ</span>
                        </button>
                        <button class="btn-add-bad" onclick="openAddModal('bad')">
                            <span class="btn-icon">โ๏ธ</span>
                            <span>ุชูุตูุฑ</span>
                        </button>
                        <button class="btn-add-journal" onclick="openJournalModal()">
                            <span class="btn-icon">๐</span>
                            <span>ูุฐูุฑุฉ ููููุฉ</span>
                        </button>
                    </div>
                    </div>
                </div>
            </section>
            
            <!-- Balance Overview -->
            <section class="balance-section fade-in-up delay-1">
                <div class="balance-card glass-card">
                
                    <div class="balance-content">
                        <div class="balance-side good">
                            <div class="balance-icon">โ</div>
                            <div class="balance-label">ุงูุญุณูุงุช</div>
                            <div class="balance-value" id="goodCount">0</div>
                        </div>
                        
                        <div class="balance-scale">
                            <div class="scale-container">
                                <div class="scale-bar">
                                    <div class="scale-good" id="scaleGood" style="width: 50%"></div>
                                    <div class="scale-bad" id="scaleBad" style="width: 50%"></div>
                                </div>
                                <div class="scale-center">โ๏ธ</div>
                            </div>
                            <div class="balance-ratio" id="balanceRatio">1:1</div>
                        </div>
                        
                        <div class="balance-side bad">
                            <div class="balance-icon">โ๏ธ</div>
                            <div class="balance-label">ุงูุชูุตูุฑุงุช</div>
                            <div class="balance-value" id="badCount">0</div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Late Prayers (Qada) -->
            <section class="late-prayers-section fade-in-up delay-3">
                <div class="late-prayers-card glass-card">
                    <img src="../assets/images/prayerkadaa.jpg" alt="ูุถุงุก ุงูุตููุงุช ุงููุชุฃุฎุฑุฉ" class="late-prayers-background">
                    <div class="late-prayers-overlay"></div>
                    <div class="late-prayers-content">
                        <div class="late-prayers-header">
                        <h3 class="section-title">ูุถุงุก ุงูุตููุงุช ุงููุชุฃุฎุฑุฉ</h3>
                        <p class="late-prayers-subtitle">ุณุฌูู ุนุฏุฏ ุงูุตููุงุช ุงููุชุฃุฎุฑุฉ ููู ููุนุ ูุถุน ุนูุงูุฉ ูููุง ุฃุฏูุช ูุงุญุฏุฉ ุญุชู ุชูุชูู</p>
                    </div>
                    
                    <form id="latePrayerForm" class="late-prayer-form">
                        <div class="late-prayer-fields">
                            <div class="form-group">
                                <label class="form-label">
                                    <span class="label-icon">๐</span>
                                    <span>ููุน ุงูุตูุงุฉ</span>
                                </label>
                                <select id="latePrayerType" class="form-input" required>
                                    <option value="fajr">ุตูุงุฉ ุงููุฌุฑ</option>
                                    <option value="dhuhr">ุตูุงุฉ ุงูุธูุฑ</option>
                                    <option value="maghrib">ุตูุงุฉ ุงููุบุฑุจ</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">
                                    <span class="label-icon">๐ข</span>
                                    <span>ุนุฏุฏ ุงูุตููุงุช ุงููุชุฃุฎุฑุฉ</span>
                                </label>
                                <input type="number" id="latePrayerCount" class="form-input" min="1" value="1" required>
                            </div>
                            
                            <div class="form-group form-group-actions">
                                <button type="submit" class="btn-primary btn-small">
                                    <span>ุฅุถุงูุฉ</span>
                                </button>
                            </div>
                        </div>
                    </form>
                    
                    <div class="late-prayers-body">
                        <div class="late-prayers-list" id="latePrayersList">
                            <!-- Active late prayers will be rendered here -->
                        </div>
                        <div class="late-prayers-empty" id="latePrayersEmpty" style="display: none;">
                            ูุง ุชูุฌุฏ ุตููุงุช ูุชุฃุฎุฑุฉ ูุณุฌูููุฉ ุญุงููุงู.
                        </div>
                        
                        <div class="late-prayers-history" id="latePrayersHistory">
                            <h4 class="late-prayers-history-title">ุณุฌู ูุถุงุก ุงูุตููุงุช</h4>
                            <div class="late-prayers-history-list" id="latePrayersHistoryList">
                                <!-- Completed late prayers history -->
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
            </section>
            
            <!-- Filter & Search -->
            <section class="filter-section fade-in-up delay-4">
                <div class="filter-card glass-card">
                    <div class="filter-controls">
                        <div class="view-toggle">
                            <button class="toggle-btn active" data-view="all" onclick="changeView('all')">
                                <span>๐</span>
                                <span>ุงููู</span>
                            </button>
                            <button class="toggle-btn" data-view="good" onclick="changeView('good')">
                                <span>โ</span>
                                <span>ุญุณูุงุช</span>
                            </button>
                            <button class="toggle-btn" data-view="bad" onclick="changeView('bad')">
                                <span>โ๏ธ</span>
                                <span>ุชูุตูุฑุงุช</span>
                            </button>
                            <button class="toggle-btn" data-view="journal" onclick="changeView('journal')">
                                <span>๐</span>
                                <span>ูุฐูุฑุงุช</span>
                            </button>
                        </div>
                        
                        <div class="search-box">
                            <span class="search-icon">๐</span>
                            <input type="text" id="searchInput" class="search-input" placeholder="ุงุจุญุซ ูู ุณุฌูุงุชู...">
                        </div>
                        
                        <select class="filter-select" id="timeFilter">
                            <option value="all">ูู ุงูุฃููุงุช</option>
                            <option value="today">ุงูููู</option>
                            <option value="week">ูุฐุง ุงูุฃุณุจูุน</option>
                            <option value="month">ูุฐุง ุงูุดูุฑ</option>
                            <option value="year">ูุฐุง ุงูุนุงู</option>
                        </select>
                        
                        <button class="btn-export" onclick="exportData()">
                            <span class="btn-icon">๐ฅ</span>
                            <span>ุชุตุฏูุฑ</span>
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- Timeline -->
            <section class="timeline-section fade-in-up delay-5">
                <div class="timeline-header">
                    <h3 class="section-title">ุณุฌู ุงููุญุงุณุจุฉ</h3>
                </div>
                
                <div class="timeline-container" id="timelineContainer">
                    <!-- Timeline items will be populated by JavaScript -->
                </div>
                
                <div class="empty-state" id="emptyState" style="display: none;">
                    <div class="empty-icon">๐</div>
                    <h3>ูู ุชุจุฏุฃ ุงููุญุงุณุจุฉ ุจุนุฏ</h3>
                    <p>ุงุจุฏุฃ ุจุชุณุฌูู ุฃุนูุงูู ุงูููููุฉ ูุญุงุณุจ ููุณู!</p>
                    <div class="empty-actions">
                        <button class="btn-primary" onclick="openAddModal('good')">ุณุฌู ุนููุงู ุตุงูุญุงู</button>
                        <button class="btn-secondary" onclick="openJournalModal()">ุงูุชุจ ูุฐูุฑุฉ ููููุฉ</button>
                    </div>
                </div>
            </section>
            
        </div>
    </main>
    
    <!-- Add Good/Bad Deed Modal -->
    <div id="addDeedModal" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="closeAddModal()"></div>
        <div class="modal-content glass-card">
            <button class="modal-close" onclick="closeAddModal()">โ</button>
            
            <h2 class="modal-title" id="deedModalTitle">ุฅุถุงูุฉ ุนูู</h2>
            
            <form id="addDeedForm" class="khirah-form">
                <input type="hidden" id="deedType" value="good">
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">๐</span>
                        <span>ุงููุฆุฉ</span>
                    </label>
                    <select class="form-input" id="deedCategory" required>
                        <!-- Categories will be populated dynamically -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">โ๏ธ</span>
                        <span>ุงููุตู</span>
                    </label>
                    <textarea class="form-input" id="deedDescription" rows="3" placeholder="ุงูุชุจ ูุตูุงู..." required></textarea>
                </div>
                
                <div class="form-group" id="improvementGroup" style="display: none;">
                    <label class="form-label">
                        <span class="label-icon">๐ก</span>
                        <span>ุฎุทุฉ ุงูุชุญุณูู</span>
                    </label>
                    <textarea class="form-input" id="improvementPlan" rows="2" placeholder="ููู ุณุชุชุฌูุจ ูุฐุง ูู ุงููุณุชูุจูุ"></textarea>
                </div>
                
                <div class="form-group" id="amountGroup" style="display: none;">
                    <label class="form-label">
                        <span class="label-icon">๐ฐ</span>
                        <span>ุงููุจูุบ (ุฑูุงู)</span>
                    </label>
                    <input type="number" class="form-input" id="deedAmount" min="0" step="0.01" placeholder="0.00">
                </div>
                
                <div class="form-group" id="pagesGroup" style="display: none;">
                    <label class="form-label">
                        <span class="label-icon">๐</span>
                        <span>ุนุฏุฏ ุงูุตูุญุงุช</span>
                    </label>
                    <input type="number" class="form-input" id="quranPages" min="1" placeholder="ุนุฏุฏ ุตูุญุงุช ุงููุฑุขู">
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">๐</span>
                        <span>ุงูุชุงุฑูุฎ</span>
                    </label>
                    <input type="date" class="form-input" id="deedDate" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">๐ท๏ธ</span>
                        <span>ูุณูู (ุงุฎุชูุงุฑู)</span>
                    </label>
                    <input type="text" class="form-input" id="deedTags" placeholder="ูุซุงู: ุฑูุถุงู, ูููุงูุฏูู">
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeAddModal()">ุฅูุบุงุก</button>
                    <button type="submit" class="btn-primary">
                        <span class="btn-icon">โ</span>
                        <span>ุญูุธ</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Daily Journal Modal -->
    <div id="journalModal" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="closeJournalModal()"></div>
        <div class="modal-content glass-card modal-large">
            <button class="modal-close" onclick="closeJournalModal()">โ</button>
            
            <h2 class="modal-title">๐ ุงููุฐูุฑุฉ ุงูููููุฉ</h2>
            
            <form id="journalForm" class="khirah-form">
                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">๐</span>
                        <span>ุงูุชุงุฑูุฎ</span>
                    </label>
                    <input type="date" class="form-input" id="journalDate" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">๐</span>
                        <span>ุงูุญุงูุฉ ุงูููุณูุฉ</span>
                    </label>
                    <div class="mood-selector">
                        <button type="button" class="mood-btn" data-mood="excellent" onclick="selectMood('excellent')">๐</button>
                        <button type="button" class="mood-btn" data-mood="good" onclick="selectMood('good')">๐</button>
                        <button type="button" class="mood-btn" data-mood="neutral" onclick="selectMood('neutral')">๐</button>
                        <button type="button" class="mood-btn" data-mood="sad" onclick="selectMood('sad')">๐</button>
                        <button type="button" class="mood-btn" data-mood="bad" onclick="selectMood('bad')">๐ข</button>
                    </div>
                    <input type="hidden" id="journalMood">
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">โ</span>
                        <span>ูุง ุฃุญุณูุช ููู ุงููููุ</span>
                    </label>
                    <textarea class="form-input" id="journalGoodPoints" rows="3" placeholder="ุงูุชุจ ุงูููุงุท ุงูุฅูุฌุงุจูุฉ..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">โ๏ธ</span>
                        <span>ูุง ูุตูุฑุช ููู ุงููููุ</span>
                    </label>
                    <textarea class="form-input" id="journalBadPoints" rows="3" placeholder="ุงูุชุจ ูุง ูุตูุฑุช ููู..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">๐ฏ</span>
                        <span>ุฎุทุฉ ุงูุบุฏ</span>
                    </label>
                    <textarea class="form-input" id="journalTomorrowPlan" rows="3" placeholder="ูุงุฐุง ุณุชูุนู ุบุฏุงู ููุชุญุณููุ"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">๐ญ</span>
                        <span>ุชุฃููุงุช ุนุงูุฉ</span>
                    </label>
                    <textarea class="form-input" id="journalReflection" rows="4" placeholder="ุงูุชุจ ุชุฃููุงุชู ูุฃููุงุฑู..."></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeJournalModal()">ุฅูุบุงุก</button>
                    <button type="submit" class="btn-primary">
                        <span class="btn-icon">โ</span>
                        <span>ุญูุธ ุงููุฐูุฑุฉ</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div id="khirahToast" class="khirah-toast"></div>
    
    <!-- Link JavaScript Files -->
    <script src="../js/theme-manager.js"></script>
    <script src="../js/particles.js"></script>
    <script src="../js/animations.js"></script>
    <script src="../js/logo-loader.js"></script>
    <script src="../js/navigation.js"></script>
    <script src="../js/mouse-light-tracker.js"></script>
    <script src="../js/user-navigation.js"></script>
    <script src="../js/api.js"></script>
    <script src="../js/prayer-times.js"></script>
    <script src="../js/khirah.js"></script>
</body>
</html>

